#!/usr/bin/env bash

# Accept optional relative path parameter, default to ./src
SEARCH_PATH="${1:-./src}"

# Find all .ts files in the specified directory and its subdirectories
# Exclude .spec.ts and .benchmark.ts files
find "$SEARCH_PATH" -type f -name "*.ts" -not -name "*.spec.ts" -not -name "*.benchmark.ts" | sort | while read -r file; do
    # Extract the basename
    basename=$(basename "$file")

    # Print the file path and basename as a header

    echo -e "\n//--- $file ($basename) ---\n"

    # Print the file contents
    cat "$file"
done
